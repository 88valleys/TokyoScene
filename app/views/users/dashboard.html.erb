<div class="container p-3">
  <h1 class="mb-3">ðŸŽ‰ Upcoming Gigs</h1>
  <div class="d-flex flex-column justify-content-center align-items-center">
    <% @user.registrations.each do |registration| %>
      <div class="dashboard-gig-card-container">
        <div class="dashboard-gig-card">
          <div class="dashboard-gig-image-section">
          <%= link_to gig_path(registration.gig) do %>
            <img src="<%= registration.gig.band_image_url || 'https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/skateboard.jpg' %>" alt="<%= registration.gig.name %>"/>
          <% end %>
          </div>
          <div class="dashboard-gig-info-section">
            <p class="dashboard-gig-date-time">
              <%= registration.gig.time.strftime("%a, %b %e %Y") %><br>
              <%= registration.gig.time.strftime("%I:%M %P") %>
            </p>
            <h1 class="dashboard-gig-title"><%= registration.gig.event_name %>: <%= registration.gig.band %></h1>
            <p class="dashboard-gig-location"><i class="fa-solid fa-location-dot"></i>&nbsp;<%= registration.gig.location %></p>
          </div>
          <div class="dashboard-gig-buttons-section">
            <%= link_to chatroom_path(registration.chatroom), class: 'no-underline-link' do %>
              <div class="icon-button ticket">
                <i class="fa-solid fa-comment white-icon"></i>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <h3> My Favorite Genres </h3>
  <div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle custom-dropdown-button" type="button" data-bs-toggle="dropdown" aria-expanded="false">
    Add Genre
  </button>
  <ul class="dropdown-menu scrollable-dropdown">
    <% @genres.each do |genre| %>
      <li><%= button_to genre, add_genre_user_path(@user, user: {genre: genre.name}), method: :patch %></li>
      <%end %>
    </ul>
  </div>
  <% @user.genre_list.each do |genre| %>
    <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/breakfast.jpg)">
      <%= genre %>
      <%= button_to 'Remove', remove_genre_user_path(@user, user: {genre: genre}), method: :patch, class: 'btn btn-danger' %>
    </div>
  <% end %>


  <h3> My Favorite Artists </h3>
  <% @user.artist_list.each do |artist| %>
    <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/breakfast.jpg)">
      <%= artist %>
    </div>
  <% end %>
</div>
